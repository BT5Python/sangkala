<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Upload ke Google Drive</title>
<style>
  body { background:#000; color:#0f0; font-family:monospace; text-align:center; padding:40px; }
  button { padding:12px 25px; font-size:18px; background:#0f0; color:#000; border:0; cursor:pointer; }
  input[type=file]{ margin:20px; }
</style>
</head>
<body>

<h2>UPLOAD KE GOOGLE DRIVE</h2>

<input type="file" id="fileInput">
<button onclick="upload()">Upload</button>

<p id="status"></p>

<script>
// =======================
// MASUKKAN URL WEB APP KAMU DI SINI
// =======================
const WEBAPP_URL = "https://script.google.com/macros/s/AKfycbxLEM-UYmMsckunSp7x8Ax8RkawTs0cMAvTp3Wn2NpGj_ez8ZIuomSkz5OZGP4xDfuCBQ/exec"; 

async function upload(){
  const file = document.getElementById("fileInput").files[0];
  if(!file) return alert("Pilih file dulu!");

  const reader = new FileReader();
  reader.onloadend = async () => {
    const base64 = reader.result.split(",")[1];

    const form = new URLSearchParams();
    form.append("name", file.name);
    form.append("type", file.type);
    form.append("file", base64);

    document.getElementById("status").innerText = "Uploading...";

    const res = await fetch(WEBAPP_URL, { method: "POST", body: form });
    const result = await res.json();

    if(result.status === "success"){
      document.getElementById("status").innerHTML =
        "✔ Uploaded: <a href='" + result.fileUrl + "' target='_blank'>Buka File</a>";
    } else {
      document.getElementById("status").innerText = "❌ Error: " + result.message;
    }
  };
  reader.readAsDataURL(file);
}
</script>

</body>
</html>
